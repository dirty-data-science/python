{"version":3,"file":"5437.31236f7.js","mappings":"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","sources":["webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@lumino/virtualdom/src/index.ts","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@lumino/virtualdom/node_modules/tslib/tslib.es6.js"],"sourcesContent":["// Copyright (c) Jupyter Development Team.\n// Distributed under the terms of the Modified BSD License.\n/*-----------------------------------------------------------------------------\n| Copyright (c) 2014-2017, PhosphorJS Contributors\n|\n| Distributed under the terms of the BSD 3-Clause License.\n|\n| The full license is in the file LICENSE, distributed with this software.\n|----------------------------------------------------------------------------*/\nimport { ArrayExt } from '@lumino/algorithm';\n\n/**\n * The names of the supported HTML5 DOM element attributes.\n *\n * This list is not all-encompassing, rather it attempts to define the\n * attribute names which are relevant for use in a virtual DOM context.\n * If a standardized or widely supported name is missing, please open\n * an issue to have it added.\n *\n * The attribute names were collected from the following sources:\n *   - https://developer.mozilla.org/en-US/docs/Web/HTML/Attributes\n *   - https://www.w3.org/TR/html5/index.html#attributes-1\n *   - https://html.spec.whatwg.org/multipage/indices.html#attributes-3\n */\nexport type ElementAttrNames =\n  | 'abbr'\n  | 'accept'\n  | 'accept-charset'\n  | 'accesskey'\n  | 'action'\n  | 'allowfullscreen'\n  | 'alt'\n  | 'autocomplete'\n  | 'autofocus'\n  | 'autoplay'\n  | 'autosave'\n  | 'checked'\n  | 'cite'\n  | 'cols'\n  | 'colspan'\n  | 'contenteditable'\n  | 'controls'\n  | 'coords'\n  | 'crossorigin'\n  | 'data'\n  | 'datetime'\n  | 'default'\n  | 'dir'\n  | 'dirname'\n  | 'disabled'\n  | 'download'\n  | 'draggable'\n  | 'dropzone'\n  | 'enctype'\n  | 'form'\n  | 'formaction'\n  | 'formenctype'\n  | 'formmethod'\n  | 'formnovalidate'\n  | 'formtarget'\n  | 'headers'\n  | 'height'\n  | 'hidden'\n  | 'high'\n  | 'href'\n  | 'hreflang'\n  | 'id'\n  | 'inputmode'\n  | 'integrity'\n  | 'ismap'\n  | 'kind'\n  | 'label'\n  | 'lang'\n  | 'list'\n  | 'loop'\n  | 'low'\n  | 'max'\n  | 'maxlength'\n  | 'media'\n  | 'mediagroup'\n  | 'method'\n  | 'min'\n  | 'minlength'\n  | 'multiple'\n  | 'muted'\n  | 'name'\n  | 'novalidate'\n  | 'optimum'\n  | 'pattern'\n  | 'placeholder'\n  | 'poster'\n  | 'preload'\n  | 'readonly'\n  | 'rel'\n  | 'required'\n  | 'reversed'\n  | 'rows'\n  | 'rowspan'\n  | 'sandbox'\n  | 'scope'\n  | 'selected'\n  | 'shape'\n  | 'size'\n  | 'sizes'\n  | 'span'\n  | 'spellcheck'\n  | 'src'\n  | 'srcdoc'\n  | 'srclang'\n  | 'srcset'\n  | 'start'\n  | 'step'\n  | 'tabindex'\n  | 'target'\n  | 'title'\n  | 'type'\n  | 'typemustmatch'\n  | 'usemap'\n  | 'value'\n  | 'width'\n  | 'wrap';\n\n/**\n * The names of ARIA attributes for HTML elements.\n *\n * The attribute names are collected from\n * https://www.w3.org/TR/html5/infrastructure.html#element-attrdef-aria-role\n */\nexport type ARIAAttrNames =\n  | 'aria-activedescendant'\n  | 'aria-atomic'\n  | 'aria-autocomplete'\n  | 'aria-busy'\n  | 'aria-checked'\n  | 'aria-colcount'\n  | 'aria-colindex'\n  | 'aria-colspan'\n  | 'aria-controls'\n  | 'aria-current'\n  | 'aria-describedby'\n  | 'aria-details'\n  | 'aria-dialog'\n  | 'aria-disabled'\n  | 'aria-dropeffect'\n  | 'aria-errormessage'\n  | 'aria-expanded'\n  | 'aria-flowto'\n  | 'aria-grabbed'\n  | 'aria-haspopup'\n  | 'aria-hidden'\n  | 'aria-invalid'\n  | 'aria-keyshortcuts'\n  | 'aria-label'\n  | 'aria-labelledby'\n  | 'aria-level'\n  | 'aria-live'\n  | 'aria-multiline'\n  | 'aria-multiselectable'\n  | 'aria-orientation'\n  | 'aria-owns'\n  | 'aria-placeholder'\n  | 'aria-posinset'\n  | 'aria-pressed'\n  | 'aria-readonly'\n  | 'aria-relevant'\n  | 'aria-required'\n  | 'aria-roledescription'\n  | 'aria-rowcount'\n  | 'aria-rowindex'\n  | 'aria-rowspan'\n  | 'aria-selected'\n  | 'aria-setsize'\n  | 'aria-sort'\n  | 'aria-valuemax'\n  | 'aria-valuemin'\n  | 'aria-valuenow'\n  | 'aria-valuetext'\n  | 'role';\n\n/**\n * The names of the supported HTML5 CSS property names.\n *\n * If a standardized or widely supported name is missing, please open\n * an issue to have it added.\n *\n * The property names were collected from the following sources:\n *   - TypeScript's `lib.dom.d.ts` file\n */\nexport type CSSPropertyNames =\n  | 'alignContent'\n  | 'alignItems'\n  | 'alignSelf'\n  | 'alignmentBaseline'\n  | 'animation'\n  | 'animationDelay'\n  | 'animationDirection'\n  | 'animationDuration'\n  | 'animationFillMode'\n  | 'animationIterationCount'\n  | 'animationName'\n  | 'animationPlayState'\n  | 'animationTimingFunction'\n  | 'backfaceVisibility'\n  | 'background'\n  | 'backgroundAttachment'\n  | 'backgroundClip'\n  | 'backgroundColor'\n  | 'backgroundImage'\n  | 'backgroundOrigin'\n  | 'backgroundPosition'\n  | 'backgroundPositionX'\n  | 'backgroundPositionY'\n  | 'backgroundRepeat'\n  | 'backgroundSize'\n  | 'baselineShift'\n  | 'border'\n  | 'borderBottom'\n  | 'borderBottomColor'\n  | 'borderBottomLeftRadius'\n  | 'borderBottomRightRadius'\n  | 'borderBottomStyle'\n  | 'borderBottomWidth'\n  | 'borderCollapse'\n  | 'borderColor'\n  | 'borderImage'\n  | 'borderImageOutset'\n  | 'borderImageRepeat'\n  | 'borderImageSlice'\n  | 'borderImageSource'\n  | 'borderImageWidth'\n  | 'borderLeft'\n  | 'borderLeftColor'\n  | 'borderLeftStyle'\n  | 'borderLeftWidth'\n  | 'borderRadius'\n  | 'borderRight'\n  | 'borderRightColor'\n  | 'borderRightStyle'\n  | 'borderRightWidth'\n  | 'borderSpacing'\n  | 'borderStyle'\n  | 'borderTop'\n  | 'borderTopColor'\n  | 'borderTopLeftRadius'\n  | 'borderTopRightRadius'\n  | 'borderTopStyle'\n  | 'borderTopWidth'\n  | 'borderWidth'\n  | 'bottom'\n  | 'boxShadow'\n  | 'boxSizing'\n  | 'breakAfter'\n  | 'breakBefore'\n  | 'breakInside'\n  | 'captionSide'\n  | 'clear'\n  | 'clip'\n  | 'clipPath'\n  | 'clipRule'\n  | 'color'\n  | 'colorInterpolationFilters'\n  | 'columnCount'\n  | 'columnFill'\n  | 'columnGap'\n  | 'columnRule'\n  | 'columnRuleColor'\n  | 'columnRuleStyle'\n  | 'columnRuleWidth'\n  | 'columnSpan'\n  | 'columnWidth'\n  | 'columns'\n  | 'content'\n  | 'counterIncrement'\n  | 'counterReset'\n  | 'cssFloat'\n  | 'cssText'\n  | 'cursor'\n  | 'direction'\n  | 'display'\n  | 'dominantBaseline'\n  | 'emptyCells'\n  | 'enableBackground'\n  | 'fill'\n  | 'fillOpacity'\n  | 'fillRule'\n  | 'filter'\n  | 'flex'\n  | 'flexBasis'\n  | 'flexDirection'\n  | 'flexFlow'\n  | 'flexGrow'\n  | 'flexShrink'\n  | 'flexWrap'\n  | 'floodColor'\n  | 'floodOpacity'\n  | 'font'\n  | 'fontFamily'\n  | 'fontFeatureSettings'\n  | 'fontSize'\n  | 'fontSizeAdjust'\n  | 'fontStretch'\n  | 'fontStyle'\n  | 'fontVariant'\n  | 'fontWeight'\n  | 'glyphOrientationHorizontal'\n  | 'glyphOrientationVertical'\n  | 'height'\n  | 'imeMode'\n  | 'justifyContent'\n  | 'kerning'\n  | 'left'\n  | 'letterSpacing'\n  | 'lightingColor'\n  | 'lineHeight'\n  | 'listStyle'\n  | 'listStyleImage'\n  | 'listStylePosition'\n  | 'listStyleType'\n  | 'margin'\n  | 'marginBottom'\n  | 'marginLeft'\n  | 'marginRight'\n  | 'marginTop'\n  | 'marker'\n  | 'markerEnd'\n  | 'markerMid'\n  | 'markerStart'\n  | 'mask'\n  | 'maxHeight'\n  | 'maxWidth'\n  | 'minHeight'\n  | 'minWidth'\n  | 'msContentZoomChaining'\n  | 'msContentZoomLimit'\n  | 'msContentZoomLimitMax'\n  | 'msContentZoomLimitMin'\n  | 'msContentZoomSnap'\n  | 'msContentZoomSnapPoints'\n  | 'msContentZoomSnapType'\n  | 'msContentZooming'\n  | 'msFlowFrom'\n  | 'msFlowInto'\n  | 'msFontFeatureSettings'\n  | 'msGridColumn'\n  | 'msGridColumnAlign'\n  | 'msGridColumnSpan'\n  | 'msGridColumns'\n  | 'msGridRow'\n  | 'msGridRowAlign'\n  | 'msGridRowSpan'\n  | 'msGridRows'\n  | 'msHighContrastAdjust'\n  | 'msHyphenateLimitChars'\n  | 'msHyphenateLimitLines'\n  | 'msHyphenateLimitZone'\n  | 'msHyphens'\n  | 'msImeAlign'\n  | 'msOverflowStyle'\n  | 'msScrollChaining'\n  | 'msScrollLimit'\n  | 'msScrollLimitXMax'\n  | 'msScrollLimitXMin'\n  | 'msScrollLimitYMax'\n  | 'msScrollLimitYMin'\n  | 'msScrollRails'\n  | 'msScrollSnapPointsX'\n  | 'msScrollSnapPointsY'\n  | 'msScrollSnapType'\n  | 'msScrollSnapX'\n  | 'msScrollSnapY'\n  | 'msScrollTranslation'\n  | 'msTextCombineHorizontal'\n  | 'msTextSizeAdjust'\n  | 'msTouchAction'\n  | 'msTouchSelect'\n  | 'msUserSelect'\n  | 'msWrapFlow'\n  | 'msWrapMargin'\n  | 'msWrapThrough'\n  | 'opacity'\n  | 'order'\n  | 'orphans'\n  | 'outline'\n  | 'outlineColor'\n  | 'outlineStyle'\n  | 'outlineWidth'\n  | 'overflow'\n  | 'overflowX'\n  | 'overflowY'\n  | 'padding'\n  | 'paddingBottom'\n  | 'paddingLeft'\n  | 'paddingRight'\n  | 'paddingTop'\n  | 'pageBreakAfter'\n  | 'pageBreakBefore'\n  | 'pageBreakInside'\n  | 'perspective'\n  | 'perspectiveOrigin'\n  | 'pointerEvents'\n  | 'position'\n  | 'quotes'\n  | 'resize'\n  | 'right'\n  | 'rubyAlign'\n  | 'rubyOverhang'\n  | 'rubyPosition'\n  | 'stopColor'\n  | 'stopOpacity'\n  | 'stroke'\n  | 'strokeDasharray'\n  | 'strokeDashoffset'\n  | 'strokeLinecap'\n  | 'strokeLinejoin'\n  | 'strokeMiterlimit'\n  | 'strokeOpacity'\n  | 'strokeWidth'\n  | 'tableLayout'\n  | 'textAlign'\n  | 'textAlignLast'\n  | 'textAnchor'\n  | 'textDecoration'\n  | 'textIndent'\n  | 'textJustify'\n  | 'textKashida'\n  | 'textKashidaSpace'\n  | 'textOverflow'\n  | 'textShadow'\n  | 'textTransform'\n  | 'textUnderlinePosition'\n  | 'top'\n  | 'touchAction'\n  | 'transform'\n  | 'transformOrigin'\n  | 'transformStyle'\n  | 'transition'\n  | 'transitionDelay'\n  | 'transitionDuration'\n  | 'transitionProperty'\n  | 'transitionTimingFunction'\n  | 'unicodeBidi'\n  | 'verticalAlign'\n  | 'visibility'\n  | 'webkitAlignContent'\n  | 'webkitAlignItems'\n  | 'webkitAlignSelf'\n  | 'webkitAnimation'\n  | 'webkitAnimationDelay'\n  | 'webkitAnimationDirection'\n  | 'webkitAnimationDuration'\n  | 'webkitAnimationFillMode'\n  | 'webkitAnimationIterationCount'\n  | 'webkitAnimationName'\n  | 'webkitAnimationPlayState'\n  | 'webkitAnimationTimingFunction'\n  | 'webkitAppearance'\n  | 'webkitBackfaceVisibility'\n  | 'webkitBackgroundClip'\n  | 'webkitBackgroundOrigin'\n  | 'webkitBackgroundSize'\n  | 'webkitBorderBottomLeftRadius'\n  | 'webkitBorderBottomRightRadius'\n  | 'webkitBorderImage'\n  | 'webkitBorderRadius'\n  | 'webkitBorderTopLeftRadius'\n  | 'webkitBorderTopRightRadius'\n  | 'webkitBoxAlign'\n  | 'webkitBoxDirection'\n  | 'webkitBoxFlex'\n  | 'webkitBoxOrdinalGroup'\n  | 'webkitBoxOrient'\n  | 'webkitBoxPack'\n  | 'webkitBoxSizing'\n  | 'webkitColumnBreakAfter'\n  | 'webkitColumnBreakBefore'\n  | 'webkitColumnBreakInside'\n  | 'webkitColumnCount'\n  | 'webkitColumnGap'\n  | 'webkitColumnRule'\n  | 'webkitColumnRuleColor'\n  | 'webkitColumnRuleStyle'\n  | 'webkitColumnRuleWidth'\n  | 'webkitColumnSpan'\n  | 'webkitColumnWidth'\n  | 'webkitColumns'\n  | 'webkitFilter'\n  | 'webkitFlex'\n  | 'webkitFlexBasis'\n  | 'webkitFlexDirection'\n  | 'webkitFlexFlow'\n  | 'webkitFlexGrow'\n  | 'webkitFlexShrink'\n  | 'webkitFlexWrap'\n  | 'webkitJustifyContent'\n  | 'webkitOrder'\n  | 'webkitPerspective'\n  | 'webkitPerspectiveOrigin'\n  | 'webkitTapHighlightColor'\n  | 'webkitTextFillColor'\n  | 'webkitTextSizeAdjust'\n  | 'webkitTransform'\n  | 'webkitTransformOrigin'\n  | 'webkitTransformStyle'\n  | 'webkitTransition'\n  | 'webkitTransitionDelay'\n  | 'webkitTransitionDuration'\n  | 'webkitTransitionProperty'\n  | 'webkitTransitionTimingFunction'\n  | 'webkitUserModify'\n  | 'webkitUserSelect'\n  | 'webkitWritingMode'\n  | 'whiteSpace'\n  | 'widows'\n  | 'width'\n  | 'wordBreak'\n  | 'wordSpacing'\n  | 'wordWrap'\n  | 'writingMode'\n  | 'zIndex'\n  | 'zoom';\n\n/**\n * A mapping of inline event name to event object type.\n *\n * This mapping is used to create the event listener properties for\n * the virtual DOM element attributes object. If a standardized or\n * widely supported name is missing, please open an issue to have it\n * added.\n *\n * The event names were collected from the following sources:\n *   - TypeScript's `lib.dom.d.ts` file\n *   - https://www.w3.org/TR/html5/index.html#attributes-1\n *   - https://html.spec.whatwg.org/multipage/webappapis.html#idl-definitions\n */\nexport type ElementEventMap = {\n  onabort: UIEvent;\n  onauxclick: MouseEvent;\n  onblur: FocusEvent;\n  oncanplay: Event;\n  oncanplaythrough: Event;\n  onchange: Event;\n  onclick: MouseEvent;\n  oncontextmenu: PointerEvent;\n  oncopy: ClipboardEvent;\n  oncuechange: Event;\n  oncut: ClipboardEvent;\n  ondblclick: MouseEvent;\n  ondrag: DragEvent;\n  ondragend: DragEvent;\n  ondragenter: DragEvent;\n  ondragexit: DragEvent;\n  ondragleave: DragEvent;\n  ondragover: DragEvent;\n  ondragstart: DragEvent;\n  ondrop: DragEvent;\n  ondurationchange: Event;\n  onemptied: Event;\n  onended: ErrorEvent;\n  onerror: ErrorEvent;\n  onfocus: FocusEvent;\n  oninput: Event;\n  oninvalid: Event;\n  onkeydown: KeyboardEvent;\n  onkeypress: KeyboardEvent;\n  onkeyup: KeyboardEvent;\n  onload: Event;\n  onloadeddata: Event;\n  onloadedmetadata: Event;\n  onloadend: Event;\n  onloadstart: Event;\n  onmousedown: MouseEvent;\n  onmouseenter: MouseEvent;\n  onmouseleave: MouseEvent;\n  onmousemove: MouseEvent;\n  onmouseout: MouseEvent;\n  onmouseover: MouseEvent;\n  onmouseup: MouseEvent;\n  onmousewheel: WheelEvent;\n  onpaste: ClipboardEvent;\n  onpause: Event;\n  onplay: Event;\n  onplaying: Event;\n  onpointercancel: PointerEvent;\n  onpointerdown: PointerEvent;\n  onpointerenter: PointerEvent;\n  onpointerleave: PointerEvent;\n  onpointermove: PointerEvent;\n  onpointerout: PointerEvent;\n  onpointerover: PointerEvent;\n  onpointerup: PointerEvent;\n  onprogress: ProgressEvent;\n  onratechange: Event;\n  onreset: Event;\n  onscroll: UIEvent;\n  onseeked: Event;\n  onseeking: Event;\n  onselect: UIEvent;\n  onselectstart: Event;\n  onstalled: Event;\n  onsubmit: Event;\n  onsuspend: Event;\n  ontimeupdate: Event;\n  onvolumechange: Event;\n  onwaiting: Event;\n};\n\n/**\n * An object which represents a dataset for a virtual DOM element.\n *\n * The names of the dataset properties will be automatically prefixed\n * with `data-` before being added to the node, e.g. `{ thing: '12' }`\n * will be rendered as `data-thing='12'` in the DOM element.\n *\n * Dataset property names should not contain spaces.\n */\nexport type ElementDataset = {\n  readonly [name: string]: string;\n};\n\n/**\n * The inline style for for a virtual DOM element.\n *\n * Style attributes use the JS camel-cased property names instead of\n * the CSS hyphenated names for performance and security.\n */\nexport type ElementInlineStyle = {\n  readonly [T in CSSPropertyNames]?: string;\n};\n\n/**\n * The ARIA attributes for a virtual element node.\n *\n * These are the attributes which are applied to a real DOM element via\n * `element.setAttribute()`. The supported attribute names are defined\n * by the `ARIAAttrNames` type.\n */\nexport type ElementARIAAttrs = {\n  readonly [T in ARIAAttrNames]?: string;\n};\n\n/**\n * The base attributes for a virtual element node.\n *\n * These are the attributes which are applied to a real DOM element via\n * `element.setAttribute()`. The supported attribute names are defined\n * by the `ElementAttrNames` type.\n *\n * Node attributes are specified using the lower-case HTML name instead\n * of the camel-case JS name due to browser inconsistencies in handling\n * the JS versions.\n */\nexport type ElementBaseAttrs = {\n  readonly [T in ElementAttrNames]?: string;\n};\n\n/**\n * The inline event listener attributes for a virtual element node.\n *\n * The supported listeners are defined by the `ElementEventMap` type.\n */\nexport type ElementEventAttrs = {\n  readonly [T in keyof ElementEventMap]?: (\n    this: HTMLElement,\n    event: ElementEventMap[T]\n  ) => any;\n};\n\n/**\n * The special-cased attributes for a virtual element node.\n */\nexport type ElementSpecialAttrs = {\n  /**\n   * The key id for the virtual element node.\n   *\n   * If a node is given a key id, the generated DOM node will not be\n   * recreated during a rendering update if it only moves among its\n   * siblings in the render tree.\n   *\n   * In general, reordering child nodes will cause the nodes to be\n   * completely re-rendered. Keys allow this to be optimized away.\n   *\n   * If a key is provided, it must be unique among sibling nodes.\n   */\n  readonly key?: string;\n\n  /**\n   * The JS-safe name for the HTML `class` attribute.\n   */\n  readonly className?: string;\n\n  /**\n   * The JS-safe name for the HTML `for` attribute.\n   */\n  readonly htmlFor?: string;\n\n  /**\n   * The dataset for the rendered DOM element.\n   */\n  readonly dataset?: ElementDataset;\n\n  /**\n   * The inline style for the rendered DOM element.\n   */\n  readonly style?: ElementInlineStyle;\n};\n\n/**\n * The full set of attributes supported by a virtual element node.\n *\n * This is the combination of the base element attributes, the the ARIA attributes,\n * the inline element event listeners, and the special element attributes.\n */\nexport type ElementAttrs = ElementBaseAttrs &\n  ElementARIAAttrs &\n  ElementEventAttrs &\n  ElementSpecialAttrs;\n\n/**\n * A virtual node which represents plain text content.\n *\n * #### Notes\n * User code will not typically create a `VirtualText` node directly.\n * Instead, the `h()` function will be used to create an element tree.\n */\nexport class VirtualText {\n  /**\n   * The text content for the node.\n   */\n  readonly content: string;\n\n  /**\n   * The type of the node.\n   *\n   * This value can be used as a type guard for discriminating the\n   * `VirtualNode` union type.\n   */\n  readonly type: 'text' = 'text';\n\n  /**\n   * Construct a new virtual text node.\n   *\n   * @param content - The text content for the node.\n   */\n  constructor(content: string) {\n    this.content = content;\n  }\n}\n\n/**\n * A virtual node which represents an HTML element.\n *\n * #### Notes\n * User code will not typically create a `VirtualElement` node directly.\n * Instead, the `h()` function will be used to create an element tree.\n */\nexport class VirtualElement {\n  /**\n   * The tag name for the element.\n   */\n  readonly tag: string;\n\n  /**\n   * The attributes for the element.\n   */\n  readonly attrs: ElementAttrs;\n\n  /**\n   * The children for the element.\n   */\n  readonly children: ReadonlyArray<VirtualNode>;\n\n  /**\n   * An optional custom renderer for the element's children. If set, on render\n   * this element's DOM node and it's attrs will be created/updated as normal.\n   * At that point the DOM node is handed off to the renderer.\n   */\n  readonly renderer: VirtualElement.IRenderer | undefined;\n\n  /**\n   * The type of the node.\n   *\n   * This value can be used as a type guard for discriminating the\n   * `VirtualNode` union type.\n   */\n  readonly type: 'element' = 'element';\n\n  /**\n   * Construct a new virtual element node.\n   *\n   * @param tag - The element tag name.\n   *\n   * @param attrs - The element attributes.\n   *\n   * @param children - The element children.\n   *\n   * @param renderer - An optional custom renderer for the element.\n   */\n  constructor(\n    tag: string,\n    attrs: ElementAttrs,\n    children: ReadonlyArray<VirtualNode>,\n    renderer?: VirtualElement.IRenderer\n  ) {\n    this.tag = tag;\n    this.attrs = attrs;\n    this.children = children;\n\n    this.renderer = renderer;\n  }\n}\n\nexport namespace VirtualElement {\n  /**\n   * A type describing a custom element renderer\n   */\n  export type IRenderer = {\n    /**\n     * Customize how a DOM node is rendered. If .renderer is set on a given\n     * instance of VirtualElement, this function will be called every time\n     * that VirtualElement is rendered.\n     *\n     * @param host - The actual DOM node created for a VirtualElement during\n     * rendering.\n     *\n     * On render, host is created and its attrs are set/updated via\n     * the standard routines in updateContent. host is then handed off to this\n     * function.\n     *\n     * The render function is free to modify host. The only restriction is\n     * is that render should not modify any attributes set by external\n     * routines (ie updateContent), as this may cause thrashing when the\n     * virtual element is next rendered.\n     *\n     * @param options - Will be populated with the .attrs and .children fields\n     * set on the VirtualElement being rendered.\n     */\n    render: (\n      host: HTMLElement,\n      options?: { attrs?: ElementAttrs; children?: ReadonlyArray<VirtualNode> }\n    ) => void;\n\n    /**\n     * Optional cleanup function for custom renderers. If the .renderer field\n     * of a VirtualELement is set, and if .renderer.unrender is defined, when\n     * the element is changed or removed its corresponding DOM element will be\n     * passed to this function immediately before it is removed from the DOM.\n     *\n     * unrender is not required for for simple renderers, such as those\n     * implemented using `document.createElement()`. However, for certain\n     * rendering techniques explicit cleanup is required in order to avoid\n     * resource leaks.\n     *\n     * For example, if render calls `ReactDOM.render(..., host)`, then\n     * there has to also be a corresponding implementation of unrender that\n     * calls `ReactDOM.unmountComponentAtNode(host)` in order to prevent\n     * a memory leak.\n     *\n     * @param host - the DOM element to be removed.\n     *\n     * @param options - Will be populated with the .attrs and .children fields\n     * set on the VirtualElement being unrendered.\n     */\n    unrender?: (\n      host: HTMLElement,\n      options?: { attrs?: ElementAttrs; children?: ReadonlyArray<VirtualNode> }\n    ) => void;\n  };\n}\n\n/**\n * DEPRECATED - use VirtualElement with a defined renderer param instead.\n * This class is provided as a backwards compatibility shim\n *\n * A \"pass thru\" virtual node whose children are managed by a render and an\n * unrender callback. The intent of this flavor of virtual node is to make\n * it easy to blend other kinds of virtualdom (eg React) into Phosphor's\n * virtualdom.\n *\n * #### Notes\n * User code will not typically create a `VirtualElementPass` node directly.\n * Instead, the `hpass()` function will be used to create an element tree.\n */\nexport class VirtualElementPass extends VirtualElement {\n  /**\n   * DEPRECATED - use VirtualElement with a defined renderer param instead\n   *\n   * Construct a new virtual element pass thru node.\n   *\n   * @param tag - the tag of the parent element of this node. Once the parent\n   * element is rendered, it will be passed as an argument to\n   * renderer.render\n   *\n   * @param attrs - attributes that will assigned to the\n   * parent element\n   *\n   * @param renderer - an object with render and unrender\n   * functions, each of which should take a single argument of type\n   * HTMLElement and return nothing. If null, the parent element\n   * will be rendered barren without any children.\n   */\n  constructor(\n    tag: string,\n    attrs: ElementAttrs,\n    renderer: VirtualElementPass.IRenderer | null\n  ) {\n    super(tag, attrs, [], renderer || undefined);\n  }\n}\n\nexport namespace VirtualElementPass {\n  /**\n   * DEPRECATED - use VirtualElement.IRenderer instead\n   *\n   * A type describing a custom element renderer\n   */\n  export type IRenderer = VirtualElement.IRenderer;\n}\n\n/**\n * A type alias for a general virtual node.\n */\nexport type VirtualNode = VirtualElement | VirtualText;\n\n/**\n * Create a new virtual element node.\n *\n * @param tag - The tag name for the element.\n *\n * @param attrs - The attributes for the element, if any.\n *\n * @param renderer - An optional custom renderer for the element.\n *\n * @param children - The children for the element, if any.\n *\n * @returns A new virtual element node for the given parameters.\n *\n * #### Notes\n * The children may be string literals, other virtual nodes, `null`, or\n * an array of those things. Strings are converted into text nodes, and\n * arrays are inlined as if the array contents were given as positional\n * arguments. This makes it simple to build up an array of children by\n * any desired means. `null` child values are simply ignored.\n *\n * A bound function for each HTML tag name is available as a static\n * function attached to the `h()` function. E.g. `h('div', ...)` is\n * equivalent to `h.div(...)`.\n */\nexport function h(tag: string, ...children: h.Child[]): VirtualElement;\nexport function h(\n  tag: string,\n  attrs: ElementAttrs,\n  ...children: h.Child[]\n): VirtualElement;\nexport function h(\n  tag: string,\n  renderer: VirtualElement.IRenderer,\n  ...children: h.Child[]\n): VirtualElement;\nexport function h(\n  tag: string,\n  attrs: ElementAttrs,\n  renderer: VirtualElement.IRenderer,\n  ...children: h.Child[]\n): VirtualElement;\nexport function h(tag: string): VirtualElement {\n  let attrs: ElementAttrs = {};\n  let renderer: VirtualElement.IRenderer | undefined;\n  let children: VirtualNode[] = [];\n  for (let i = 1, n = arguments.length; i < n; ++i) {\n    // eslint-disable-next-line prefer-rest-params\n    let arg = arguments[i];\n    if (typeof arg === 'string') {\n      children.push(new VirtualText(arg));\n    } else if (arg instanceof VirtualText) {\n      children.push(arg);\n    } else if (arg instanceof VirtualElement) {\n      children.push(arg);\n    } else if (arg instanceof Array) {\n      extend(children, arg);\n    } else if ((i === 1 || i === 2) && arg && typeof arg === 'object') {\n      if ('render' in arg) {\n        renderer = arg;\n      } else {\n        attrs = arg;\n      }\n    }\n  }\n  return new VirtualElement(tag, attrs, children, renderer);\n\n  function extend(array: VirtualNode[], values: h.Child[]): void {\n    for (let child of values) {\n      if (typeof child === 'string') {\n        array.push(new VirtualText(child));\n      } else if (child instanceof VirtualText) {\n        array.push(child);\n      } else if (child instanceof VirtualElement) {\n        array.push(child);\n      }\n    }\n  }\n}\n\n/**\n * The namespace for the `h` function statics.\n */\nexport namespace h {\n  /**\n   * A type alias for the supported child argument types.\n   */\n  export type Child =\n    | (string | VirtualNode | null)\n    | Array<string | VirtualNode | null>;\n\n  /**\n   * A bound factory function for a specific `h()` tag.\n   */\n  export interface IFactory {\n    (...children: Child[]): VirtualElement;\n    (attrs: ElementAttrs, ...children: Child[]): VirtualElement;\n    (\n      renderer: VirtualElement.IRenderer,\n      ...children: h.Child[]\n    ): VirtualElement;\n    (\n      attrs: ElementAttrs,\n      renderer: VirtualElement.IRenderer,\n      ...children: h.Child[]\n    ): VirtualElement;\n  }\n\n  export const a: IFactory = h.bind(undefined, 'a');\n  export const abbr: IFactory = h.bind(undefined, 'abbr');\n  export const address: IFactory = h.bind(undefined, 'address');\n  export const area: IFactory = h.bind(undefined, 'area');\n  export const article: IFactory = h.bind(undefined, 'article');\n  export const aside: IFactory = h.bind(undefined, 'aside');\n  export const audio: IFactory = h.bind(undefined, 'audio');\n  export const b: IFactory = h.bind(undefined, 'b');\n  export const bdi: IFactory = h.bind(undefined, 'bdi');\n  export const bdo: IFactory = h.bind(undefined, 'bdo');\n  export const blockquote: IFactory = h.bind(undefined, 'blockquote');\n  export const br: IFactory = h.bind(undefined, 'br');\n  export const button: IFactory = h.bind(undefined, 'button');\n  export const canvas: IFactory = h.bind(undefined, 'canvas');\n  export const caption: IFactory = h.bind(undefined, 'caption');\n  export const cite: IFactory = h.bind(undefined, 'cite');\n  export const code: IFactory = h.bind(undefined, 'code');\n  export const col: IFactory = h.bind(undefined, 'col');\n  export const colgroup: IFactory = h.bind(undefined, 'colgroup');\n  export const data: IFactory = h.bind(undefined, 'data');\n  export const datalist: IFactory = h.bind(undefined, 'datalist');\n  export const dd: IFactory = h.bind(undefined, 'dd');\n  export const del: IFactory = h.bind(undefined, 'del');\n  export const dfn: IFactory = h.bind(undefined, 'dfn');\n  export const div: IFactory = h.bind(undefined, 'div');\n  export const dl: IFactory = h.bind(undefined, 'dl');\n  export const dt: IFactory = h.bind(undefined, 'dt');\n  export const em: IFactory = h.bind(undefined, 'em');\n  export const embed: IFactory = h.bind(undefined, 'embed');\n  export const fieldset: IFactory = h.bind(undefined, 'fieldset');\n  export const figcaption: IFactory = h.bind(undefined, 'figcaption');\n  export const figure: IFactory = h.bind(undefined, 'figure');\n  export const footer: IFactory = h.bind(undefined, 'footer');\n  export const form: IFactory = h.bind(undefined, 'form');\n  export const h1: IFactory = h.bind(undefined, 'h1');\n  export const h2: IFactory = h.bind(undefined, 'h2');\n  export const h3: IFactory = h.bind(undefined, 'h3');\n  export const h4: IFactory = h.bind(undefined, 'h4');\n  export const h5: IFactory = h.bind(undefined, 'h5');\n  export const h6: IFactory = h.bind(undefined, 'h6');\n  export const header: IFactory = h.bind(undefined, 'header');\n  export const hr: IFactory = h.bind(undefined, 'hr');\n  export const i: IFactory = h.bind(undefined, 'i');\n  export const iframe: IFactory = h.bind(undefined, 'iframe');\n  export const img: IFactory = h.bind(undefined, 'img');\n  export const input: IFactory = h.bind(undefined, 'input');\n  export const ins: IFactory = h.bind(undefined, 'ins');\n  export const kbd: IFactory = h.bind(undefined, 'kbd');\n  export const label: IFactory = h.bind(undefined, 'label');\n  export const legend: IFactory = h.bind(undefined, 'legend');\n  export const li: IFactory = h.bind(undefined, 'li');\n  export const main: IFactory = h.bind(undefined, 'main');\n  export const map: IFactory = h.bind(undefined, 'map');\n  export const mark: IFactory = h.bind(undefined, 'mark');\n  export const meter: IFactory = h.bind(undefined, 'meter');\n  export const nav: IFactory = h.bind(undefined, 'nav');\n  export const noscript: IFactory = h.bind(undefined, 'noscript');\n  export const object: IFactory = h.bind(undefined, 'object');\n  export const ol: IFactory = h.bind(undefined, 'ol');\n  export const optgroup: IFactory = h.bind(undefined, 'optgroup');\n  export const option: IFactory = h.bind(undefined, 'option');\n  export const output: IFactory = h.bind(undefined, 'output');\n  export const p: IFactory = h.bind(undefined, 'p');\n  export const param: IFactory = h.bind(undefined, 'param');\n  export const pre: IFactory = h.bind(undefined, 'pre');\n  export const progress: IFactory = h.bind(undefined, 'progress');\n  export const q: IFactory = h.bind(undefined, 'q');\n  export const rp: IFactory = h.bind(undefined, 'rp');\n  export const rt: IFactory = h.bind(undefined, 'rt');\n  export const ruby: IFactory = h.bind(undefined, 'ruby');\n  export const s: IFactory = h.bind(undefined, 's');\n  export const samp: IFactory = h.bind(undefined, 'samp');\n  export const section: IFactory = h.bind(undefined, 'section');\n  export const select: IFactory = h.bind(undefined, 'select');\n  export const small: IFactory = h.bind(undefined, 'small');\n  export const source: IFactory = h.bind(undefined, 'source');\n  export const span: IFactory = h.bind(undefined, 'span');\n  export const strong: IFactory = h.bind(undefined, 'strong');\n  export const sub: IFactory = h.bind(undefined, 'sub');\n  export const summary: IFactory = h.bind(undefined, 'summary');\n  export const sup: IFactory = h.bind(undefined, 'sup');\n  export const table: IFactory = h.bind(undefined, 'table');\n  export const tbody: IFactory = h.bind(undefined, 'tbody');\n  export const td: IFactory = h.bind(undefined, 'td');\n  export const textarea: IFactory = h.bind(undefined, 'textarea');\n  export const tfoot: IFactory = h.bind(undefined, 'tfoot');\n  export const th: IFactory = h.bind(undefined, 'th');\n  export const thead: IFactory = h.bind(undefined, 'thead');\n  export const time: IFactory = h.bind(undefined, 'time');\n  export const title: IFactory = h.bind(undefined, 'title');\n  export const tr: IFactory = h.bind(undefined, 'tr');\n  export const track: IFactory = h.bind(undefined, 'track');\n  export const u: IFactory = h.bind(undefined, 'u');\n  export const ul: IFactory = h.bind(undefined, 'ul');\n  export const var_: IFactory = h.bind(undefined, 'var');\n  export const video: IFactory = h.bind(undefined, 'video');\n  export const wbr: IFactory = h.bind(undefined, 'wbr');\n}\n\n/**\n * DEPRECATED - pass the renderer arg to the h function instead\n *\n * Create a new \"pass thru\" virtual element node.\n *\n * @param tag - The tag name for the parent element.\n *\n * @param attrs - The attributes for the parent element, if any.\n *\n * @param renderer - an object with render and unrender functions, if any.\n *\n * @returns A new \"pass thru\" virtual element node for the given parameters.\n *\n */\nexport function hpass(\n  tag: string,\n  renderer?: VirtualElementPass.IRenderer\n): VirtualElementPass;\nexport function hpass(\n  tag: string,\n  attrs: ElementAttrs,\n  renderer?: VirtualElementPass.IRenderer\n): VirtualElementPass;\nexport function hpass(tag: string): VirtualElementPass {\n  let attrs: ElementAttrs = {};\n  let renderer: VirtualElementPass.IRenderer | null = null;\n\n  if (arguments.length === 2) {\n    // eslint-disable-next-line prefer-rest-params\n    const arg = arguments[1];\n\n    if ('render' in arg) {\n      renderer = arg;\n    } else {\n      attrs = arg;\n    }\n  } else if (arguments.length === 3) {\n    // eslint-disable-next-line prefer-rest-params\n    attrs = arguments[1];\n    // eslint-disable-next-line prefer-rest-params\n    renderer = arguments[2];\n  } else if (arguments.length > 3) {\n    throw new Error('hpass() should be called with 1, 2, or 3 arguments');\n  }\n\n  return new VirtualElementPass(tag, attrs, renderer);\n}\n\n/**\n * The namespace for the virtual DOM rendering functions.\n */\nexport namespace VirtualDOM {\n  /**\n   * Create a real DOM element from a virtual element node.\n   *\n   * @param node - The virtual element node to realize.\n   *\n   * @returns A new DOM element for the given virtual element node.\n   *\n   * #### Notes\n   * This creates a brand new *real* DOM element with a structure which\n   * matches the given virtual DOM node.\n   *\n   * If virtual diffing is desired, use the `render` function instead.\n   */\n  export function realize(node: VirtualText): Text;\n  export function realize(node: VirtualElement): HTMLElement;\n  export function realize(node: VirtualNode): HTMLElement | Text {\n    return Private.createDOMNode(node);\n  }\n\n  /**\n   * Render virtual DOM content into a host element.\n   *\n   * @param content - The virtual DOM content to render.\n   *\n   * @param host - The host element for the rendered content.\n   *\n   * #### Notes\n   * This renders the delta from the previous rendering. It assumes that\n   * the content of the host element is not manipulated by external code.\n   *\n   * Providing `null` content will clear the rendering.\n   *\n   * Externally modifying the provided content or the host element will\n   * result in undefined rendering behavior.\n   */\n  export function render(\n    content: VirtualNode | ReadonlyArray<VirtualNode> | null,\n    host: HTMLElement\n  ): void {\n    let oldContent = Private.hostMap.get(host) || [];\n    let newContent = Private.asContentArray(content);\n    Private.hostMap.set(host, newContent);\n    Private.updateContent(host, oldContent, newContent);\n  }\n}\n\n/**\n * The namespace for the module implementation details.\n */\nnamespace Private {\n  /**\n   * A weak mapping of host element to virtual DOM content.\n   */\n  export const hostMap = new WeakMap<HTMLElement, ReadonlyArray<VirtualNode>>();\n\n  /**\n   * Cast a content value to a content array.\n   */\n  export function asContentArray(\n    value: VirtualNode | ReadonlyArray<VirtualNode> | null\n  ): ReadonlyArray<VirtualNode> {\n    if (!value) {\n      return [];\n    }\n    if (value instanceof Array) {\n      return value as ReadonlyArray<VirtualNode>;\n    }\n    return [value as VirtualNode];\n  }\n\n  /**\n   * Create a new DOM element for a virtual node.\n   */\n  export function createDOMNode(node: VirtualText): Text;\n  export function createDOMNode(node: VirtualElement): HTMLElement;\n  export function createDOMNode(node: VirtualNode): HTMLElement | Text;\n  export function createDOMNode(\n    node: VirtualNode,\n    host: HTMLElement | null\n  ): HTMLElement | Text;\n  export function createDOMNode(\n    node: VirtualNode,\n    host: HTMLElement | null,\n    before: Node | null\n  ): HTMLElement | Text;\n  export function createDOMNode(node: VirtualNode): HTMLElement | Text {\n    // eslint-disable-next-line prefer-rest-params\n    let host = arguments[1] || null;\n    // eslint-disable-next-line prefer-rest-params\n    const before = arguments[2] || null;\n\n    if (host) {\n      host.insertBefore(createDOMNode(node), before);\n    } else {\n      // Create a text node for a virtual text node.\n      if (node.type === 'text') {\n        return document.createTextNode(node.content);\n      }\n\n      // Create the HTML element with the specified tag.\n      host = document.createElement(node.tag);\n\n      // Add the attributes for the new element.\n      addAttrs(host, node.attrs);\n\n      if (node.renderer) {\n        node.renderer.render(host, {\n          attrs: node.attrs,\n          children: node.children\n        });\n        return host;\n      }\n\n      // Recursively populate the element with child content.\n      for (let i = 0, n = node.children.length; i < n; ++i) {\n        createDOMNode(node.children[i], host);\n      }\n    }\n\n    return host;\n  }\n\n  /**\n   * Update a host element with the delta of the virtual content.\n   *\n   * This is the core \"diff\" algorithm. There is no explicit \"patch\"\n   * phase. The host is patched at each step as the diff progresses.\n   */\n  export function updateContent(\n    host: HTMLElement,\n    oldContent: ReadonlyArray<VirtualNode>,\n    newContent: ReadonlyArray<VirtualNode>\n  ): void {\n    // Bail early if the content is identical.\n    if (oldContent === newContent) {\n      return;\n    }\n\n    // Collect the old keyed elems into a mapping.\n    let oldKeyed = collectKeys(host, oldContent);\n\n    // Create a copy of the old content which can be modified in-place.\n    let oldCopy = oldContent.slice();\n\n    // Update the host with the new content. The diff always proceeds\n    // forward and never modifies a previously visited index. The old\n    // copy array is modified in-place to reflect the changes made to\n    // the host children. This causes the stale nodes to be pushed to\n    // the end of the host node and removed at the end of the loop.\n    let currElem = host.firstChild;\n    let newCount = newContent.length;\n    for (let i = 0; i < newCount; ++i) {\n      // If the old content is exhausted, create a new node.\n      if (i >= oldCopy.length) {\n        createDOMNode(newContent[i], host);\n        continue;\n      }\n\n      // Lookup the old and new virtual nodes.\n      let oldVNode = oldCopy[i];\n      let newVNode = newContent[i];\n\n      // If both elements are identical, there is nothing to do.\n      if (oldVNode === newVNode) {\n        currElem = currElem!.nextSibling;\n        continue;\n      }\n\n      // Handle the simplest case of in-place text update first.\n      if (oldVNode.type === 'text' && newVNode.type === 'text') {\n        // Avoid spurious updates for performance.\n        if (currElem!.textContent !== newVNode.content) {\n          currElem!.textContent = newVNode.content;\n        }\n        currElem = currElem!.nextSibling;\n        continue;\n      }\n\n      // If the old or new node is a text node, the other node is now\n      // known to be an element node, so create and insert a new node.\n      if (oldVNode.type === 'text' || newVNode.type === 'text') {\n        ArrayExt.insert(oldCopy, i, newVNode);\n        createDOMNode(newVNode, host, currElem);\n        continue;\n      }\n\n      // If the old XOR new node has a custom renderer,\n      // create and insert a new node.\n      if (!oldVNode.renderer != !newVNode.renderer) {\n        ArrayExt.insert(oldCopy, i, newVNode);\n        createDOMNode(newVNode, host, currElem);\n        continue;\n      }\n\n      // At this point, both nodes are known to be element nodes.\n\n      // If the new elem is keyed, move an old keyed elem to the proper\n      // location before proceeding with the diff. The search can start\n      // at the current index, since the unmatched old keyed elems are\n      // pushed forward in the old copy array.\n      let newKey = newVNode.attrs.key;\n      if (newKey && newKey in oldKeyed) {\n        let pair = oldKeyed[newKey];\n        if (pair.vNode !== oldVNode) {\n          ArrayExt.move(oldCopy, oldCopy.indexOf(pair.vNode, i + 1), i);\n          host.insertBefore(pair.element, currElem);\n          oldVNode = pair.vNode;\n          currElem = pair.element;\n        }\n      }\n\n      // If both elements are identical, there is nothing to do.\n      if (oldVNode === newVNode) {\n        currElem = currElem!.nextSibling;\n        continue;\n      }\n\n      // If the old elem is keyed and does not match the new elem key,\n      // create a new node. This is necessary since the old keyed elem\n      // may be matched at a later point in the diff.\n      let oldKey = oldVNode.attrs.key;\n      if (oldKey && oldKey !== newKey) {\n        ArrayExt.insert(oldCopy, i, newVNode);\n        createDOMNode(newVNode, host, currElem);\n        continue;\n      }\n\n      // If the tags are different, create a new node.\n      if (oldVNode.tag !== newVNode.tag) {\n        ArrayExt.insert(oldCopy, i, newVNode);\n        createDOMNode(newVNode, host, currElem);\n        continue;\n      }\n\n      // At this point, the element can be updated in-place.\n\n      // Update the element attributes.\n      updateAttrs(currElem as HTMLElement, oldVNode.attrs, newVNode.attrs);\n\n      // Update the element content.\n      if (newVNode.renderer) {\n        newVNode.renderer.render(currElem as HTMLElement, {\n          attrs: newVNode.attrs,\n          children: newVNode.children\n        });\n      } else {\n        updateContent(\n          currElem as HTMLElement,\n          oldVNode.children,\n          newVNode.children\n        );\n      }\n\n      // Step to the next sibling element.\n      currElem = currElem!.nextSibling;\n    }\n\n    // Cleanup stale DOM\n    removeContent(host, oldCopy, newCount, true);\n  }\n\n  /**\n   * Handle cleanup of stale vdom and its associated DOM. The host node is\n   * traversed recursively (in depth-first order), and any explicit cleanup\n   * required by a child node is carried out when it is visited (eg if a node\n   * has a custom renderer, the renderer.unrender function will be called).\n   * Once the subtree beneath each child of host has been completely visited,\n   * that child will be removed via a call to host.removeChild.\n   */\n  function removeContent(\n    host: HTMLElement,\n    oldContent: ReadonlyArray<VirtualNode>,\n    newCount: number,\n    _sentinel: boolean\n  ) {\n    // Dispose of the old nodes pushed to the end of the host.\n    for (let i = oldContent.length - 1; i >= newCount; --i) {\n      const oldNode = oldContent[i];\n      const child = (_sentinel\n        ? host.lastChild\n        : host.childNodes[i]) as HTMLElement;\n\n      // recursively clean up host children\n      if (oldNode.type === 'text') {\n        // pass\n      } else if (oldNode.renderer && oldNode.renderer.unrender) {\n        oldNode.renderer.unrender(child!, {\n          attrs: oldNode.attrs,\n          children: oldNode.children\n        });\n      } else {\n        removeContent(child!, oldNode.children, 0, false);\n      }\n\n      if (_sentinel) {\n        host.removeChild(child!);\n      }\n    }\n  }\n\n  /**\n   * A set of special-cased attribute names.\n   */\n  const specialAttrs = {\n    key: true,\n    className: true,\n    htmlFor: true,\n    dataset: true,\n    style: true\n  };\n\n  /**\n   * Add element attributes to a newly created HTML element.\n   */\n  function addAttrs(element: HTMLElement, attrs: ElementAttrs): void {\n    // Add the inline event listeners and node attributes.\n    for (let name in attrs) {\n      if (name in specialAttrs) {\n        continue;\n      }\n      if (name.substr(0, 2) === 'on') {\n        (element as any)[name] = (attrs as any)[name];\n      } else {\n        element.setAttribute(name, (attrs as any)[name]);\n      }\n    }\n\n    // Add the element `class` attribute.\n    if (attrs.className !== undefined) {\n      element.setAttribute('class', attrs.className);\n    }\n\n    // Add the element `for` attribute.\n    if (attrs.htmlFor !== undefined) {\n      element.setAttribute('for', attrs.htmlFor);\n    }\n\n    // Add the dataset values.\n    if (attrs.dataset) {\n      addDataset(element, attrs.dataset);\n    }\n\n    // Add the inline styles.\n    if (attrs.style) {\n      addStyle(element, attrs.style);\n    }\n  }\n\n  /**\n   * Update the element attributes of an HTML element.\n   */\n  function updateAttrs(\n    element: HTMLElement,\n    oldAttrs: ElementAttrs,\n    newAttrs: ElementAttrs\n  ): void {\n    // Do nothing if the attrs are the same object.\n    if (oldAttrs === newAttrs) {\n      return;\n    }\n\n    // Setup the strongly typed loop variable.\n    let name: keyof ElementAttrs;\n\n    // Remove attributes and listeners which no longer exist.\n    for (name in oldAttrs) {\n      if (name in specialAttrs || name in newAttrs) {\n        continue;\n      }\n      if (name.substr(0, 2) === 'on') {\n        (element as any)[name] = null;\n      } else {\n        element.removeAttribute(name);\n      }\n    }\n\n    // Add and update new and existing attributes and listeners.\n    for (name in newAttrs) {\n      if (name in specialAttrs || oldAttrs[name] === newAttrs[name]) {\n        continue;\n      }\n      if (name.substr(0, 2) === 'on') {\n        (element as any)[name] = (newAttrs as any)[name];\n      } else {\n        element.setAttribute(name, (newAttrs as any)[name]);\n      }\n    }\n\n    // Update the element `class` attribute.\n    if (oldAttrs.className !== newAttrs.className) {\n      if (newAttrs.className !== undefined) {\n        element.setAttribute('class', newAttrs.className);\n      } else {\n        element.removeAttribute('class');\n      }\n    }\n\n    // Add the element `for` attribute.\n    if (oldAttrs.htmlFor !== newAttrs.htmlFor) {\n      if (newAttrs.htmlFor !== undefined) {\n        element.setAttribute('for', newAttrs.htmlFor);\n      } else {\n        element.removeAttribute('for');\n      }\n    }\n\n    // Update the dataset values.\n    if (oldAttrs.dataset !== newAttrs.dataset) {\n      updateDataset(element, oldAttrs.dataset || {}, newAttrs.dataset || {});\n    }\n\n    // Update the inline styles.\n    if (oldAttrs.style !== newAttrs.style) {\n      updateStyle(element, oldAttrs.style || {}, newAttrs.style || {});\n    }\n  }\n\n  /**\n   * Add dataset values to a newly created HTML element.\n   */\n  function addDataset(element: HTMLElement, dataset: ElementDataset): void {\n    for (let name in dataset) {\n      element.setAttribute(`data-${name}`, dataset[name]);\n    }\n  }\n\n  /**\n   * Update the dataset values of an HTML element.\n   */\n  function updateDataset(\n    element: HTMLElement,\n    oldDataset: ElementDataset,\n    newDataset: ElementDataset\n  ): void {\n    for (let name in oldDataset) {\n      if (!(name in newDataset)) {\n        element.removeAttribute(`data-${name}`);\n      }\n    }\n    for (let name in newDataset) {\n      if (oldDataset[name] !== newDataset[name]) {\n        element.setAttribute(`data-${name}`, newDataset[name]);\n      }\n    }\n  }\n\n  /**\n   * Add inline style values to a newly created HTML element.\n   */\n  function addStyle(element: HTMLElement, style: ElementInlineStyle): void {\n    let elemStyle = element.style;\n    let name: keyof ElementInlineStyle;\n    for (name in style) {\n      (elemStyle as any)[name] = style[name];\n    }\n  }\n\n  /**\n   * Update the inline style values of an HTML element.\n   */\n  function updateStyle(\n    element: HTMLElement,\n    oldStyle: ElementInlineStyle,\n    newStyle: ElementInlineStyle\n  ): void {\n    let elemStyle = element.style;\n    let name: keyof ElementInlineStyle;\n    for (name in oldStyle) {\n      if (!(name in newStyle)) {\n        (elemStyle as any)[name] = '';\n      }\n    }\n    for (name in newStyle) {\n      if (oldStyle[name] !== newStyle[name]) {\n        (elemStyle as any)[name] = newStyle[name];\n      }\n    }\n  }\n\n  /**\n   * A mapping of string key to pair of element and rendered node.\n   */\n  type KeyMap = {\n    [key: string]: { vNode: VirtualElement; element: HTMLElement };\n  };\n\n  /**\n   * Collect a mapping of keyed elements for the host content.\n   */\n  function collectKeys(\n    host: HTMLElement,\n    content: ReadonlyArray<VirtualNode>\n  ): KeyMap {\n    let node = host.firstChild;\n    let keyMap: KeyMap = Object.create(null);\n    for (let vNode of content) {\n      if (vNode.type === 'element' && vNode.attrs.key) {\n        keyMap[vNode.attrs.key] = { vNode, element: node as HTMLElement };\n      }\n      node = node!.nextSibling;\n    }\n    return keyMap;\n  }\n}\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || from);\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n"],"names":["VirtualDOM","Private","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","content","type","this","tag","attrs","children","renderer","undefined","TypeError","String","__","constructor","create","VirtualElement","h","i","n","arguments","length","arg","push","VirtualText","extend","array","values","child","hpass","Error","VirtualElementPass","a","bind","abbr","address","area","article","aside","audio","bdi","bdo","blockquote","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","dfn","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hr","iframe","img","input","ins","kbd","label","legend","li","main","map","mark","meter","nav","noscript","object","ol","optgroup","option","output","param","pre","progress","q","rp","rt","ruby","s","samp","section","select","small","source","span","strong","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var_","video","wbr","realize","node","createDOMNode","render","host","oldContent","hostMap","get","newContent","asContentArray","set","updateContent","before","insertBefore","document","createTextNode","addAttrs","createElement","removeContent","newCount","_sentinel","oldNode","lastChild","childNodes","unrender","removeChild","WeakMap","value","oldKeyed","firstChild","keyMap","vNode","key","element","nextSibling","collectKeys","oldCopy","slice","currElem","oldVNode","newVNode","newKey","pair","ArrayExt","indexOf","oldKey","updateAttrs","textContent","specialAttrs","className","htmlFor","dataset","style","substr","setAttribute","addDataset","name","elemStyle","addStyle","oldAttrs","newAttrs","removeAttribute","oldDataset","newDataset","updateDataset","oldStyle","newStyle","updateStyle"],"sourceRoot":""}